import { useState } from "react";

export default function App() {
  const [vida, setVida] = useState(48000);
  const [ki, setKi] = useState(500);
  const [forca, setForca] = useState(63000);
  const [resistencia, setResistencia] = useState(19000);
  const [velocidade, setVelocidade] = useState(4500);

  const [resultado, setResultado] = useState("");

  function simularBatalha() {
    const ataqueBase = forca * (1 + velocidade / 100000);
    const defesaBase = resistencia * 1.5;
    const vidaEfetiva = vida * (1 + resistencia / 100000);

    const danoFinal = Math.max(0, ataqueBase - defesaBase);
    const turnosParaMorrer = vidaEfetiva / danoFinal;

    let texto = "";
    if (danoFinal <= 0) texto = "âš”ï¸ Defesa perfeita â€” o inimigo nÃ£o causa dano!";
    else if (turnosParaMorrer > 5) texto = "ğŸ›¡ï¸ Build muito tanque â€” sobrevive bem!";
    else if (turnosParaMorrer > 2) texto = "âš–ï¸ Build equilibrada â€” bom ataque e defesa.";
    else texto = "ğŸ’¥ Build ofensiva â€” mata rÃ¡pido, mas arriscada!";

    setResultado(
      `âš”ï¸ Ataque total: ${Math.round(ataqueBase)}\nğŸ›¡ï¸ Defesa: ${Math.round(
        defesaBase
      )}\nâ¤ï¸ Vida efetiva: ${Math.round(vidaEfetiva)}\n\n${texto}`
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-b from-orange-100 to-yellow-200 flex flex-col items-center justify-center p-6">
      <h1 className="text-3xl font-bold mb-6 text-orange-700">
        ğŸ‰ DBZ RPG â€“ Simulador de Builds
      </h1>

      <div className="grid grid-cols-2 gap-3 bg-white/80 p-6 rounded-2xl shadow-md">
        <label>
          Vida:
          <input
            className="input"
            type="number"
            value={vida}
            onChange={(e) => setVida(Number(e.target.value))}
          />
        </label>
        <label>
          Ki:
          <input
            className="input"
            type="number"
            value={ki}
            onChange={(e) => setKi(Number(e.target.value))}
          />
        </label>
        <label>
          ForÃ§a:
          <input
            className="input"
            type="number"
            value={forca}
            onChange={(e) => setForca(Number(e.target.value))}
          />
        </label>
        <label>
          ResistÃªncia:
          <input
            className="input"
            type="number"
            value={resistencia}
            onChange={(e) => setResistencia(Number(e.target.value))}
          />
        </label>
        <label>
          Velocidade:
          <input
            className="input"
            type="number"
            value={velocidade}
            onChange={(e) => setVelocidade(Number(e.target.value))}
          />
        </label>
      </div>

      <button
        onClick={simularBatalha}
        className="btn mt-6 text-lg font-semibold bg-orange-300 hover:bg-orange-400"
      >
        âš”ï¸ Simular Batalha
      </button>

      {resultado && (
        <pre className="mt-6 bg-white/80 rounded-xl p-4 text-sm whitespace-pre-wrap border border-slate-300 shadow-sm max-w-lg">
          {resultado}
        </pre>
      )}
    </div>
  );
}
